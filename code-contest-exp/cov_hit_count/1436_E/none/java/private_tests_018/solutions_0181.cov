/* line 1 */ import java.io.OutputStream;
/* line 2 */ import java.io.IOException;
/* line 3 */ import java.io.InputStream;
/* line 4 */ import java.io.OutputStream;
/* line 5 */ import java.io.PrintWriter;
/* line 6 */ import java.util.Arrays;
/* line 7 */ import java.io.BufferedWriter;
/* line 8 */ import java.util.InputMismatchException;
/* line 9 */ import java.io.IOException;
/* line 10 */ import java.util.ArrayList;
/* line 11 */ import java.util.HashSet;
/* line 12 */ import java.io.Writer;
/* line 13 */ import java.io.OutputStreamWriter;
/* line 14 */ import java.util.Collections;
/* line 15 */ import java.io.InputStream;
/* line 16 */ 
/* line 17 */ /**
/* line 18 */  * Built using CHelper plug-in
/* line 19 */  * Actual solution is at the top
/* line 20 */  */
/* line 21 NOT_COVERED */ public class Main {
/* line 22 */     public static void main(String[] args) {
/* line 23 COVERED, hit count: 1 */         InputStream inputStream = System.in;
/* line 24 COVERED, hit count: 1 */         OutputStream outputStream = System.out;
/* line 25 COVERED, hit count: 1 */         InputReader in = new InputReader(inputStream);
/* line 26 COVERED, hit count: 1 */         OutputWriter out = new OutputWriter(outputStream);
/* line 27 COVERED, hit count: 1 */         EComplicatedComputations solver = new EComplicatedComputations();
/* line 28 COVERED, hit count: 1 */         solver.solve(1, in, out);
/* line 29 COVERED, hit count: 1 */         out.close();
/* line 30 COVERED, hit count: 1 */     }
/* line 31 */ 
/* line 32 COVERED, hit count: 1 */     static class EComplicatedComputations {
/* line 33 */         static final int INF = 1 << 30;
/* line 34 */ 
/* line 35 */         public static int getIndex(ArrayList<Long> al, long v) {
/* line 36 COVERED, hit count: 222 */             int lo = 0, hi = al.size();
/* line 37 PARTIALLY_COVERED, hit count: 1706 */             while (lo < hi) {
/* line 38 COVERED, hit count: 1484 */                 int mid = (lo + hi) >>> 1;
/* line 39 PARTIALLY_COVERED, hit count: 1484 */                 if (al.get(mid) >= v) hi = mid;
/* line 40 COVERED, hit count: 748 */                 else lo = mid + 1;
/* line 41 COVERED, hit count: 1484 */             }
/* line 42 COVERED, hit count: 222 */             return lo;
/* line 43 */         }
/* line 44 */ 
/* line 45 */         public static void add(int[] t, int[] v, int i, int value) {
/* line 46 COVERED, hit count: 222 */             v[i] += value;
/* line 47 COVERED, hit count: 222 */             i += t.length / 2;
/* line 48 PARTIALLY_COVERED, hit count: 3262 */             for (; i > 1; i >>= 1)
/* line 49 PARTIALLY_COVERED, hit count: 1520 */                 t[i >> 1] = v[t[i]] > v[t[i ^ 1]] ? t[i] : t[i ^ 1]; //Math.max(t[i], t[i ^ 1]);
/* line 50 COVERED, hit count: 222 */         }
/* line 51 */ 
/* line 52 */         public static int max(int[] t, int[] v, int a, int b) {
/* line 53 COVERED, hit count: 222 */             int res = -1;
/* line 54 PARTIALLY_COVERED, hit count: 1486 */             for (a += t.length / 2, b += t.length / 2; a <= b; a = (a + 1) >> 1, b = (b - 1) >> 1) {
/* line 55 PARTIALLY_COVERED, hit count: 1264 */                 if (a % 2 == 1) {
/* line 56 PARTIALLY_COVERED, hit count: 419 */                     if (res == -1) res = t[a];
/* line 57 */                     else {
/* line 58 PARTIALLY_COVERED, hit count: 223 */                         res = v[res] > v[t[a]] ? res : t[a];
/* line 59 */                     }
/* line 60 */                 }
/* line 61 PARTIALLY_COVERED, hit count: 1264 */                 if (b % 2 == 0) {
/* line 62 PARTIALLY_COVERED, hit count: 798 */                     if (res == -1) res = t[b];
/* line 63 */                     else {
/* line 64 PARTIALLY_COVERED, hit count: 772 */                         res = v[res] > v[t[b]] ? res : t[b];
/* line 65 */                     }
/* line 66 */                 }
/* line 67 */ //            if ((a & 1) != 0)
/* line 68 */ //                res = Math.max(res, t[a]);
/* line 69 */ //            if ((b & 1) == 0)
/* line 70 */ //                res = Math.max(res, t[b]);
/* line 71 */             }
/* line 72 COVERED, hit count: 222 */             return res;
/* line 73 */         }
/* line 74 */ 
/* line 75 */         public void solve(int testNumber, InputReader in, OutputWriter out) {
/* line 76 COVERED, hit count: 1 */             int n = in.nextInt();
/* line 77 COVERED, hit count: 1 */             int[] a = in.readIntArray(n);
/* line 78 COVERED, hit count: 1 */             int[] lastOccurence = new int[n + 1];
/* line 79 COVERED, hit count: 1 */             Arrays.fill(lastOccurence, -1);
/* line 80 COVERED, hit count: 1 */             ArrayList<Long> Ranges = new ArrayList<>();
/* line 81 COVERED, hit count: 1 */             ArrayList<Long>[] Ranges2 = new ArrayList[n + 2];
/* line 82 COVERED, hit count: 1 */             HashSet<Integer> mexes = new HashSet<>();
/* line 83 PARTIALLY_COVERED, hit count: 1 */             for (int i = 0; i <= n; i++) Ranges2[i] = new ArrayList<>();
/* line 84 PARTIALLY_COVERED, hit count: 57 */             for (int i = 0; i < n; i++) {
/* line 85 COVERED, hit count: 56 */                 a[i]--;
/* line 86 COVERED, hit count: 56 */                 int l = lastOccurence[a[i]] + 1;
/* line 87 COVERED, hit count: 56 */                 lastOccurence[a[i]] = i;
/* line 88 PARTIALLY_COVERED, hit count: 56 */                 if (l >= i) continue;
/* line 89 COVERED, hit count: 55 */                 long mask = (((long) l << 20)) + i - 1;
/* line 90 COVERED, hit count: 55 */                 Ranges.add(mask);
/* line 91 COVERED, hit count: 55 */                 Ranges2[a[i]].add(mask);
/* line 92 */             }
/* line 93 */ 
/* line 94 PARTIALLY_COVERED, hit count: 58 */             for (int i = 0; i <= n; i++) {
/* line 95 PARTIALLY_COVERED, hit count: 57 */                 if (lastOccurence[i] != n - 1) {
/* line 96 COVERED, hit count: 56 */                     long mask = (((long) (lastOccurence[i] + 1)) << 20) + n - 1;
/* line 97 COVERED, hit count: 56 */                     Ranges.add(mask);
/* line 98 COVERED, hit count: 56 */                     Ranges2[i].add(mask);
/* line 99 */                 }
/* line 100 */             }
/* line 101 */ 
/* line 102 COVERED, hit count: 1 */             Collections.sort(Ranges);
/* line 103 COVERED, hit count: 1 */             int m = Ranges.size();
/* line 104 COVERED, hit count: 1 */             int[] t = new int[m + m];
/* line 105 COVERED, hit count: 1 */             int[] val = new int[m + m];
/* line 106 PARTIALLY_COVERED, hit count: 1 */             for (int i = m; i < 2 * m; i++) t[i] = i - m;
/* line 107 PARTIALLY_COVERED, hit count: 112 */             for (int i = 0; i < m; i++) {
/* line 108 COVERED, hit count: 111 */                 add(t, val, i, INF - (int) (Ranges.get(i) & ((1 << 20) - 1)));
/* line 109 */             }
/* line 110 COVERED, hit count: 1 */             boolean[] done = new boolean[m];
/* line 111 PARTIALLY_COVERED, hit count: 58 */             for (int i = 0; i <= n; i++) {
/* line 112 PARTIALLY_COVERED, hit count: 57 */                 for (long v : Ranges2[i]) {
/* line 113 COVERED, hit count: 111 */                     int l = (int) (v >>> 20);
/* line 114 COVERED, hit count: 111 */                     int r = (int) (v & ((1 << 20) - 1));
/* line 115 */ 
/* line 116 COVERED, hit count: 111 */                     int ind = getIndex(Ranges, v - r);
/* line 117 COVERED, hit count: 111 */                     int ind2 = getIndex(Ranges, ((long) (r + 1)) << 20) - 1;
/* line 118 COVERED, hit count: 111 */                     if (ind > ind2) continue;
/* line 119 */                     while (true) {
/* line 120 COVERED, hit count: 222 */                         int pos = max(t, val, ind, ind2);
/* line 121 PARTIALLY_COVERED, hit count: 222 */                         if (done[pos]) break;
/* line 122 COVERED, hit count: 113 */                         int R = (int) (Ranges.get(pos) & ((1 << 20) - 1));
/* line 123 PARTIALLY_COVERED, hit count: 113 */                         if (R > r) break;
/* line 124 COVERED, hit count: 111 */                         mexes.add(i);
/* line 125 COVERED, hit count: 111 */                         done[pos] = true;
/* line 126 COVERED, hit count: 111 */                         add(t, val, pos, -INF);
/* line 127 COVERED, hit count: 111 */                     }
/* line 128 COVERED, hit count: 111 */                 }
/* line 129 */             }
/* line 130 */ 
/* line 131 COVERED, hit count: 4 */             for (int i = 0; ; i++)
/* line 132 PARTIALLY_COVERED, hit count: 4 */                 if (!mexes.contains(i)) {
/* line 133 COVERED, hit count: 1 */                     out.println(i + 1);
/* line 134 COVERED, hit count: 1 */                     return;
/* line 135 */                 }
/* line 136 */         }
/* line 137 */ 
/* line 138 */     }
/* line 139 */ 
/* line 140 */     static class OutputWriter {
/* line 141 */         private final PrintWriter writer;
/* line 142 */ 
/* line 143 COVERED, hit count: 1 */         public OutputWriter(OutputStream outputStream) {
/* line 144 COVERED, hit count: 1 */             writer = new PrintWriter(new BufferedWriter(new OutputStreamWriter(outputStream)));
/* line 145 COVERED, hit count: 1 */         }
/* line 146 */ 
/* line 147 NOT_COVERED */         public OutputWriter(Writer writer) {
/* line 148 NOT_COVERED */             this.writer = new PrintWriter(writer);
/* line 149 NOT_COVERED */         }
/* line 150 */ 
/* line 151 */         public void println(Object... objects) {
/* line 152 PARTIALLY_COVERED, hit count: 2 */             for (int i = 0; i < objects.length; i++) {
/* line 153 COVERED, hit count: 1 */                 if (i != 0) {
/* line 154 NOT_COVERED */                     writer.print(' ');
/* line 155 */                 }
/* line 156 COVERED, hit count: 1 */                 writer.print(objects[i]);
/* line 157 */             }
/* line 158 COVERED, hit count: 1 */             writer.print('\n');
/* line 159 COVERED, hit count: 1 */         }
/* line 160 */ 
/* line 161 */         public void close() {
/* line 162 COVERED, hit count: 1 */             writer.close();
/* line 163 COVERED, hit count: 1 */         }
/* line 164 */ 
/* line 165 */     }
/* line 166 */ 
/* line 167 */     static class InputReader {
/* line 168 */         private InputStream stream;
/* line 169 COVERED, hit count: 1 */         private byte[] buf = new byte[1024];
/* line 170 */         private int curChar;
/* line 171 */         private int numChars;
/* line 172 */         private InputReader.SpaceCharFilter filter;
/* line 173 */ 
/* line 174 COVERED, hit count: 1 */         public InputReader(InputStream stream) {
/* line 175 COVERED, hit count: 1 */             this.stream = stream;
/* line 176 COVERED, hit count: 1 */         }
/* line 177 */ 
/* line 178 */         public int[] readIntArray(int size) {
/* line 179 COVERED, hit count: 1 */             int[] array = new int[size];
/* line 180 PARTIALLY_COVERED, hit count: 57 */             for (int i = 0; i < size; i++) {
/* line 181 COVERED, hit count: 56 */                 array[i] = readInt();
/* line 182 */             }
/* line 183 COVERED, hit count: 1 */             return array;
/* line 184 */         }
/* line 185 */ 
/* line 186 */         public int read() {
/* line 187 COVERED, hit count: 159 */             if (numChars == -1) {
/* line 188 NOT_COVERED */                 throw new InputMismatchException();
/* line 189 */             }
/* line 190 PARTIALLY_COVERED, hit count: 159 */             if (curChar >= numChars) {
/* line 191 COVERED, hit count: 1 */                 curChar = 0;
/* line 192 */                 try {
/* line 193 COVERED, hit count: 1 */                     numChars = stream.read(buf);
/* line 194 NOT_COVERED */                 } catch (IOException e) {
/* line 195 NOT_COVERED */                     throw new InputMismatchException();
/* line 196 COVERED, hit count: 1 */                 }
/* line 197 COVERED, hit count: 1 */                 if (numChars <= 0) {
/* line 198 NOT_COVERED */                     return -1;
/* line 199 */                 }
/* line 200 */             }
/* line 201 COVERED, hit count: 159 */             return buf[curChar++];
/* line 202 */         }
/* line 203 */ 
/* line 204 */         public int nextInt() {
/* line 205 COVERED, hit count: 1 */             int c = read();
/* line 206 COVERED, hit count: 1 */             while (isSpaceChar(c)) c = read();
/* line 207 COVERED, hit count: 1 */             int sgn = 1;
/* line 208 COVERED, hit count: 1 */             if (c == '-') {
/* line 209 NOT_COVERED */                 sgn = -1;
/* line 210 NOT_COVERED */                 c = read();
/* line 211 */             }
/* line 212 COVERED, hit count: 1 */             int res = 0;
/* line 213 */             do {
/* line 214 COVERED, hit count: 2 */                 if (c < '0' || c > '9')
/* line 215 NOT_COVERED */                     throw new InputMismatchException();
/* line 216 COVERED, hit count: 2 */                 res *= 10;
/* line 217 COVERED, hit count: 2 */                 res += c - '0';
/* line 218 COVERED, hit count: 2 */                 c = read();
/* line 219 PARTIALLY_COVERED, hit count: 2 */             } while (!isSpaceChar(c));
/* line 220 COVERED, hit count: 1 */             return res * sgn;
/* line 221 */         }
/* line 222 */ 
/* line 223 */         public int readInt() {
/* line 224 COVERED, hit count: 56 */             int c = read();
/* line 225 COVERED, hit count: 56 */             while (isSpaceChar(c)) {
/* line 226 NOT_COVERED */                 c = read();
/* line 227 */             }
/* line 228 COVERED, hit count: 56 */             int sgn = 1;
/* line 229 COVERED, hit count: 56 */             if (c == '-') {
/* line 230 NOT_COVERED */                 sgn = -1;
/* line 231 NOT_COVERED */                 c = read();
/* line 232 */             }
/* line 233 COVERED, hit count: 56 */             int res = 0;
/* line 234 */             do {
/* line 235 COVERED, hit count: 100 */                 if (c < '0' || c > '9') {
/* line 236 NOT_COVERED */                     throw new InputMismatchException();
/* line 237 */                 }
/* line 238 COVERED, hit count: 100 */                 res *= 10;
/* line 239 COVERED, hit count: 100 */                 res += c - '0';
/* line 240 COVERED, hit count: 100 */                 c = read();
/* line 241 PARTIALLY_COVERED, hit count: 100 */             } while (!isSpaceChar(c));
/* line 242 COVERED, hit count: 56 */             return res * sgn;
/* line 243 */         }
/* line 244 */ 
/* line 245 */         public boolean isSpaceChar(int c) {
/* line 246 COVERED, hit count: 159 */             if (filter != null) {
/* line 247 NOT_COVERED */                 return filter.isSpaceChar(c);
/* line 248 */             }
/* line 249 COVERED, hit count: 159 */             return isWhitespace(c);
/* line 250 */         }
/* line 251 */ 
/* line 252 */         public static boolean isWhitespace(int c) {
/* line 253 PARTIALLY_COVERED, hit count: 159 */             return c == ' ' || c == '\n' || c == '\r' || c == '\t' || c == -1;
/* line 254 */         }
/* line 255 */ 
/* line 256 */         public interface SpaceCharFilter {
/* line 257 */             public boolean isSpaceChar(int ch);
/* line 258 */ 
/* line 259 */         }
/* line 260 */ 
/* line 261 */     }
/* line 262 */ }
/* line 263 */ 