/* line 1 */ import java.util.*;
/* line 2 */ import java.lang.*;
/* line 3 */ import java.math.*;
/* line 4 */ import java.io.*;
/* line 5 */ import static java.lang.Math.*;
/* line 6 */ 
/* line 7 */ /* spar5h */
/* line 8 */ 
/* line 9 COVERED, hit count: 1 */ public class cf4 implements Runnable{    
/* line 10 */ 	
/* line 11 */ 	static class pair {
/* line 12 */ 		
/* line 13 */ 		int i, j;
/* line 14 */ 		
/* line 15 COVERED, hit count: 200 */ 		pair(int i, int j) {
/* line 16 COVERED, hit count: 200 */ 			this.i = i; this.j = j;
/* line 17 COVERED, hit count: 200 */ 		}
/* line 18 */ 	}
/* line 19 */ 	
/* line 20 COVERED, hit count: 1214 */ 	static class comp implements Comparator<pair> {
/* line 21 */ 		
/* line 22 */ 		public int compare(pair x, pair y) {
/* line 23 */ 			
/* line 24 PARTIALLY_COVERED, hit count: 1213 */ 			if(x.i < y.i)
/* line 25 COVERED, hit count: 572 */ 				return -1;
/* line 26 */ 			
/* line 27 PARTIALLY_COVERED, hit count: 641 */ 			if(x.i > y.i)
/* line 28 COVERED, hit count: 221 */ 				return 1;
/* line 29 */ 			
/* line 30 COVERED, hit count: 420 */ 			return 0;
/* line 31 */ 		}
/* line 32 */ 	}
/* line 33 */ 	
/* line 34 */ 	static long modPow(long x, long y, long mod) {
/* line 35 */ 		
/* line 36 COVERED, hit count: 46 */ 		if(y == 0)
/* line 37 NOT_COVERED */ 			return 1;
/* line 38 */ 		
/* line 39 PARTIALLY_COVERED, hit count: 46 */ 		if(y == 1)
/* line 40 COVERED, hit count: 10 */ 			return x;
/* line 41 */ 		
/* line 42 COVERED, hit count: 36 */ 		long ret = modPow(x, y / 2, mod);
/* line 43 COVERED, hit count: 36 */ 		ret = (ret * ret) % mod;
/* line 44 */ 		
/* line 45 PARTIALLY_COVERED, hit count: 36 */ 		if(y % 2 == 1)
/* line 46 COVERED, hit count: 15 */ 			ret = (ret * x) % mod;
/* line 47 */ 		
/* line 48 COVERED, hit count: 36 */ 		return ret;
/* line 49 */ 	}
/* line 50 */ 	
/* line 51 */ 	public void run() {
/* line 52 */ 		
/* line 53 COVERED, hit count: 1 */ 		InputReader s = new InputReader(System.in);
/* line 54 COVERED, hit count: 1 */ 		PrintWriter w = new PrintWriter(System.out);
/* line 55 */ 		
/* line 56 COVERED, hit count: 1 */ 		int n = s.nextInt();
/* line 57 */ 		
/* line 58 COVERED, hit count: 1 */ 		ArrayList<pair> list = new ArrayList<pair>();
/* line 59 */ 		
/* line 60 PARTIALLY_COVERED, hit count: 101 */ 		for(int i = 1; i <= n; i++)
/* line 61 COVERED, hit count: 100 */ 			list.add(new pair(s.nextInt(), i));
/* line 62 */ 		
/* line 63 PARTIALLY_COVERED, hit count: 101 */ 		for(int i = 1; i <= n; i++)
/* line 64 COVERED, hit count: 100 */ 			list.add(new pair(s.nextInt(), i));
/* line 65 */ 		
/* line 66 COVERED, hit count: 1 */ 		Collections.sort(list, new comp());
/* line 67 */ 		
/* line 68 COVERED, hit count: 1 */ 		long m = s.nextLong(), res = 1;
/* line 69 */ 		
/* line 70 COVERED, hit count: 1 */ 		int i = 0;
/* line 71 */ 		
/* line 72 PARTIALLY_COVERED, hit count: 11 */ 		while(i < 2 * n) {
/* line 73 */ 			
/* line 74 COVERED, hit count: 10 */ 			int key = list.get(i).i, c = 0;
/* line 75 */ 			
/* line 76 COVERED, hit count: 10 */ 			HashSet<Integer> hs = new HashSet<Integer>();
/* line 77 */ 			
/* line 78 PARTIALLY_COVERED, hit count: 210 */ 			while(i < 2 * n && list.get(i).i == key) {
/* line 79 COVERED, hit count: 200 */ 				hs.add(list.get(i).j); i++; c++;
/* line 80 */ 			}
/* line 81 */ 			
/* line 82 COVERED, hit count: 10 */ 			long y = 0;
/* line 83 */ 			
/* line 84 PARTIALLY_COVERED, hit count: 210 */ 			for(int j = 1; j <= c; j++) {
/* line 85 */ 				
/* line 86 COVERED, hit count: 200 */ 				long x = j;
/* line 87 */ 				
/* line 88 PARTIALLY_COVERED, hit count: 374 */ 				while(x % 2 == 0) {
/* line 89 COVERED, hit count: 174 */ 					y++; x /= 2;
/* line 90 */ 				}
/* line 91 */ 				
/* line 92 COVERED, hit count: 200 */ 				res = res * (x % m) % m;
/* line 93 */ 			}
/* line 94 */ 		
/* line 95 COVERED, hit count: 10 */ 			y -= c - hs.size();
/* line 96 */ 			
/* line 97 COVERED, hit count: 10 */ 			res = res * modPow(2 % m, y, m) % m;
/* line 98 COVERED, hit count: 10 */ 		}
/* line 99 */ 		
/* line 100 COVERED, hit count: 1 */ 		w.println(res);
/* line 101 */ 		
/* line 102 COVERED, hit count: 1 */ 		w.close();
/* line 103 COVERED, hit count: 1 */ 	}
/* line 104 */ 	
/* line 105 */ 	static class InputReader {
/* line 106 */ 		
/* line 107 */ 		private InputStream stream;
/* line 108 COVERED, hit count: 1 */ 		private byte[] buf = new byte[1024];
/* line 109 */ 		private int curChar;
/* line 110 */ 		private int numChars;
/* line 111 */ 		private SpaceCharFilter filter;
/* line 112 */ 		
/* line 113 */ 		public InputReader(InputStream stream)
/* line 114 COVERED, hit count: 1 */ 		{
/* line 115 COVERED, hit count: 1 */ 			this.stream = stream;
/* line 116 COVERED, hit count: 1 */ 		}
/* line 117 */ 		
/* line 118 */ 		public int read()
/* line 119 */ 		{
/* line 120 COVERED, hit count: 435 */ 			if (numChars==-1) 
/* line 121 NOT_COVERED */ 				throw new InputMismatchException();
/* line 122 */ 			
/* line 123 PARTIALLY_COVERED, hit count: 435 */ 			if (curChar >= numChars)
/* line 124 */ 			{
/* line 125 COVERED, hit count: 1 */ 				curChar = 0;
/* line 126 */ 				try 
/* line 127 */ 				{
/* line 128 COVERED, hit count: 1 */ 					numChars = stream.read(buf);
/* line 129 */ 				}
/* line 130 NOT_COVERED */ 				catch (IOException e)
/* line 131 */ 				{
/* line 132 NOT_COVERED */ 					throw new InputMismatchException();
/* line 133 COVERED, hit count: 1 */ 				}
/* line 134 */ 				
/* line 135 COVERED, hit count: 1 */ 				if(numChars <= 0)				
/* line 136 NOT_COVERED */ 					return -1;
/* line 137 */ 			}
/* line 138 COVERED, hit count: 435 */ 			return buf[curChar++];
/* line 139 */ 		}
/* line 140 */ 	 
/* line 141 */ 		public String nextLine()
/* line 142 */ 		{
/* line 143 NOT_COVERED */ 			BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
/* line 144 NOT_COVERED */ 			String str = "";
/* line 145 */         try
/* line 146 */         {
/* line 147 NOT_COVERED */             str = br.readLine();
/* line 148 */         }
/* line 149 NOT_COVERED */         catch (IOException e)
/* line 150 */         {
/* line 151 NOT_COVERED */             e.printStackTrace();
/* line 152 NOT_COVERED */         }
/* line 153 NOT_COVERED */         return str;
/* line 154 */ 	}
/* line 155 */ 	public int nextInt()
/* line 156 */ 	{
/* line 157 COVERED, hit count: 201 */ 		int c = read();
/* line 158 */ 		
/* line 159 COVERED, hit count: 201 */ 		while(isSpaceChar(c)) 
/* line 160 NOT_COVERED */ 			c = read();
/* line 161 */ 		
/* line 162 COVERED, hit count: 201 */ 		int sgn = 1;
/* line 163 */ 		
/* line 164 COVERED, hit count: 201 */ 		if (c == '-') 
/* line 165 */ 		{
/* line 166 NOT_COVERED */ 			sgn = -1;
/* line 167 NOT_COVERED */ 			c = read();
/* line 168 */ 		}
/* line 169 */ 		
/* line 170 COVERED, hit count: 201 */ 		int res = 0;
/* line 171 */ 		do 
/* line 172 */ 		{
/* line 173 COVERED, hit count: 224 */ 			if(c<'0'||c>'9') 
/* line 174 NOT_COVERED */ 				throw new InputMismatchException();
/* line 175 COVERED, hit count: 224 */ 			res *= 10;
/* line 176 COVERED, hit count: 224 */ 			res += c - '0';
/* line 177 COVERED, hit count: 224 */ 			c = read();
/* line 178 */ 		}
/* line 179 PARTIALLY_COVERED, hit count: 224 */ 		while (!isSpaceChar(c)); 
/* line 180 */ 		
/* line 181 COVERED, hit count: 201 */ 		return res * sgn;
/* line 182 */ 	}
/* line 183 */ 	
/* line 184 */ 	public long nextLong() 
/* line 185 */ 	{
/* line 186 COVERED, hit count: 1 */ 		int c = read();
/* line 187 COVERED, hit count: 1 */ 		while (isSpaceChar(c))
/* line 188 NOT_COVERED */ 			c = read();
/* line 189 COVERED, hit count: 1 */ 		int sgn = 1;
/* line 190 COVERED, hit count: 1 */ 		if (c == '-') 
/* line 191 */ 		{
/* line 192 NOT_COVERED */ 			sgn = -1;
/* line 193 NOT_COVERED */ 			c = read();
/* line 194 */ 		}
/* line 195 COVERED, hit count: 1 */ 		long res = 0;
/* line 196 */ 		
/* line 197 */ 		do 
/* line 198 */ 		{
/* line 199 COVERED, hit count: 9 */ 			if (c < '0' || c > '9')
/* line 200 NOT_COVERED */ 				throw new InputMismatchException();
/* line 201 COVERED, hit count: 9 */ 			res *= 10;
/* line 202 COVERED, hit count: 9 */ 			res += c - '0';
/* line 203 COVERED, hit count: 9 */ 			c = read();
/* line 204 */ 		}
/* line 205 PARTIALLY_COVERED, hit count: 9 */ 		while (!isSpaceChar(c));
/* line 206 COVERED, hit count: 1 */ 			return res * sgn;
/* line 207 */ 	}
/* line 208 */ 	
/* line 209 */ 	public double nextDouble() 
/* line 210 */ 	{
/* line 211 NOT_COVERED */ 		int c = read();
/* line 212 NOT_COVERED */ 		while (isSpaceChar(c))
/* line 213 NOT_COVERED */ 			c = read();
/* line 214 NOT_COVERED */ 		int sgn = 1;
/* line 215 NOT_COVERED */ 		if (c == '-') 
/* line 216 */ 		{
/* line 217 NOT_COVERED */ 			sgn = -1;
/* line 218 NOT_COVERED */ 			c = read();
/* line 219 */ 		}
/* line 220 NOT_COVERED */ 		double res = 0;
/* line 221 NOT_COVERED */ 		while (!isSpaceChar(c) && c != '.') 
/* line 222 */ 		{
/* line 223 NOT_COVERED */ 			if (c == 'e' || c == 'E')
/* line 224 NOT_COVERED */ 				return res * Math.pow(10, nextInt());
/* line 225 NOT_COVERED */ 			if (c < '0' || c > '9')
/* line 226 NOT_COVERED */ 				throw new InputMismatchException();
/* line 227 NOT_COVERED */ 			res *= 10;
/* line 228 NOT_COVERED */ 			res += c - '0';
/* line 229 NOT_COVERED */ 			c = read();
/* line 230 */ 		}
/* line 231 NOT_COVERED */ 		if (c == '.') 
/* line 232 */ 		{
/* line 233 NOT_COVERED */ 			c = read();
/* line 234 NOT_COVERED */ 			double m = 1;
/* line 235 NOT_COVERED */ 			while (!isSpaceChar(c)) 
/* line 236 */ 			{
/* line 237 NOT_COVERED */ 				if (c == 'e' || c == 'E')
/* line 238 NOT_COVERED */ 					return res * Math.pow(10, nextInt());
/* line 239 NOT_COVERED */ 				if (c < '0' || c > '9')
/* line 240 NOT_COVERED */ 					throw new InputMismatchException();
/* line 241 NOT_COVERED */ 				m /= 10;
/* line 242 NOT_COVERED */ 				res += (c - '0') * m;
/* line 243 NOT_COVERED */ 				c = read();
/* line 244 */ 			}
/* line 245 */ 		}
/* line 246 NOT_COVERED */ 		return res * sgn;
/* line 247 */ 	}
/* line 248 */ 	
/* line 249 */ 	public String readString() 
/* line 250 */ 	{
/* line 251 NOT_COVERED */ 		int c = read();
/* line 252 NOT_COVERED */ 		while (isSpaceChar(c))
/* line 253 NOT_COVERED */ 			c = read();
/* line 254 NOT_COVERED */ 		StringBuilder res = new StringBuilder();
/* line 255 */ 		do 
/* line 256 */ 		{
/* line 257 NOT_COVERED */ 			res.appendCodePoint(c);
/* line 258 NOT_COVERED */ 			c = read();
/* line 259 */ 		} 
/* line 260 NOT_COVERED */ 		while (!isSpaceChar(c));
/* line 261 */ 		
/* line 262 NOT_COVERED */ 		return res.toString();
/* line 263 */ 	}
/* line 264 */  
/* line 265 */ 	public boolean isSpaceChar(int c) 
/* line 266 */ 	{
/* line 267 COVERED, hit count: 435 */ 		if (filter != null)
/* line 268 NOT_COVERED */ 			return filter.isSpaceChar(c);
/* line 269 PARTIALLY_COVERED, hit count: 435 */ 		return c == ' ' || c == '\n' || c == '\r' || c == '\t' || c == -1;
/* line 270 */ 	}
/* line 271 */  
/* line 272 */ 	public String next() 
/* line 273 */ 	{
/* line 274 NOT_COVERED */ 		return readString();
/* line 275 */ 	}
/* line 276 */ 	
/* line 277 */ 	public interface SpaceCharFilter 
/* line 278 */ 	{
/* line 279 */ 		public boolean isSpaceChar(int ch);
/* line 280 */ 	}
/* line 281 */ }
/* line 282 */ 
/* line 283 */ public static void main(String args[]) throws Exception
/* line 284 */ {
/* line 285 COVERED, hit count: 1 */ 	new Thread(null, new cf4(),"cf4",1<<26).start();
/* line 286 COVERED, hit count: 1 */ 	}
/* line 287 */ }   