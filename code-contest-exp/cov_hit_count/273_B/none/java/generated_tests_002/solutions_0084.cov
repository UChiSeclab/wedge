/* line 1 */ import java.io.*;
/* line 2 */ import java.util.*;
/* line 3 NOT_COVERED */ public final class dima_and_seq
/* line 4 */ {
/* line 5 COVERED, hit count: 1 */     static BufferedReader br=new BufferedReader(new InputStreamReader(System.in));
/* line 6 COVERED, hit count: 1 */ 	static FastScanner sc=new FastScanner(br);
/* line 7 COVERED, hit count: 1 */     static PrintWriter out=new PrintWriter(System.out);
/* line 8 COVERED, hit count: 1 */ 	static Random rnd=new Random();
/* line 9 */ 	static int[] a,b,c,arr,sp;
/* line 10 */ 	static Map<Integer,Integer> m1,m2,m3;
/* line 11 */ 	static long[] fact,inv_fact;
/* line 12 */ 	static long mod;
/* line 13 COVERED, hit count: 1 */ 	static int maxn=(int)(2e5+3);
/* line 14 */ 	static ArrayList<Integer>[] al,div;
/* line 15 */ 	
/* line 16 */ 	static long pow(long a,long b)
/* line 17 */ 	{
/* line 18 COVERED, hit count: 77 */ 		long x=1,y=a%mod;
/* line 19 PARTIALLY_COVERED, hit count: 247 */ 		while(b>0)
/* line 20 */ 		{
/* line 21 PARTIALLY_COVERED, hit count: 170 */ 			if(b%2==1)
/* line 22 */ 			{
/* line 23 COVERED, hit count: 109 */ 				x=(x*y)%mod;
/* line 24 */ 			}
/* line 25 COVERED, hit count: 170 */ 			y=(y*y)%mod;b=b/2;
/* line 26 */ 		}
/* line 27 COVERED, hit count: 77 */ 		return x;
/* line 28 */ 	}
/* line 29 */ 	
/* line 30 */ 	static long get(int x,List<Integer> list)
/* line 31 */ 	{
/* line 32 COVERED, hit count: 10 */ 		m2=new HashMap<>();m3=new HashMap<>();
/* line 33 PARTIALLY_COVERED, hit count: 200 */ 		for(int i=2;i<=x;i++)
/* line 34 */ 		{
/* line 35 PARTIALLY_COVERED, hit count: 190 */ 			for(int y:div[i])
/* line 36 */ 			{
/* line 37 COVERED, hit count: 358 */ 				put(m2,y,1);
/* line 38 COVERED, hit count: 358 */ 			}
/* line 39 */ 		}
/* line 40 PARTIALLY_COVERED, hit count: 10 */ 		for(int y:list)
/* line 41 */ 		{
/* line 42 PARTIALLY_COVERED, hit count: 200 */ 			for(int i=2;i<=y;i++)
/* line 43 */ 			{
/* line 44 PARTIALLY_COVERED, hit count: 13 */ 				for(int z:div[i])
/* line 45 */ 				{
/* line 46 COVERED, hit count: 13 */ 					put(m3,z,1);
/* line 47 COVERED, hit count: 13 */ 				}
/* line 48 */ 			}
/* line 49 COVERED, hit count: 187 */ 		}
/* line 50 COVERED, hit count: 10 */ 		long ret=1;
/* line 51 PARTIALLY_COVERED, hit count: 10 */ 		for(Map.Entry<Integer,Integer> en:m2.entrySet())
/* line 52 */ 		{
/* line 53 COVERED, hit count: 77 */ 			int key=en.getKey(),val=en.getValue();
/* line 54 PARTIALLY_COVERED, hit count: 77 */ 			if(m3.get(key)!=null)
/* line 55 */ 			{
/* line 56 COVERED, hit count: 7 */ 				val-=m3.get(key);
/* line 57 */ 			}
/* line 58 COVERED, hit count: 77 */ 			ret=(ret*pow(key,val))%mod;
/* line 59 COVERED, hit count: 77 */ 		}
/* line 60 COVERED, hit count: 10 */ 		return ret;
/* line 61 */ 	}
/* line 62 */ 	
/* line 63 */ 	static void mark(int num)
/* line 64 */ 	{
/* line 65 COVERED, hit count: 17984 */ 		int i=1,elem;
/* line 66 PARTIALLY_COVERED, hit count: 562986 */ 		while((elem=(num*i))<maxn)
/* line 67 */ 		{
/* line 68 COVERED, hit count: 545002 */ 			arr[elem]=1;sp[elem]=num;i++;
/* line 69 */ 		}
/* line 70 COVERED, hit count: 17984 */ 	}
/* line 71 */ 	
/* line 72 */ 	@SuppressWarnings("unchecked")
/* line 73 */ 	static void build()
/* line 74 */ 	{
/* line 75 COVERED, hit count: 1 */ 		arr=new int[maxn];sp=new int[maxn];div=new ArrayList[maxn];
/* line 76 PARTIALLY_COVERED, hit count: 200002 */ 		for(int i=2;i<maxn;i++)
/* line 77 */ 		{
/* line 78 COVERED, hit count: 200001 */ 			div[i]=new ArrayList<Integer>();
/* line 79 */ 		}
/* line 80 PARTIALLY_COVERED, hit count: 200002 */ 		for(int i=2;i<maxn;i++)
/* line 81 */ 		{
/* line 82 PARTIALLY_COVERED, hit count: 200001 */ 			if(arr[i]==0)
/* line 83 */ 			{
/* line 84 COVERED, hit count: 17984 */ 				mark(i);
/* line 85 */ 			}
/* line 86 */ 		}
/* line 87 PARTIALLY_COVERED, hit count: 200002 */ 		for(int i=2;i<maxn;i++)
/* line 88 */ 		{
/* line 89 COVERED, hit count: 200001 */ 			int curr=i;
/* line 90 PARTIALLY_COVERED, hit count: 899506 */ 			while(curr>1)
/* line 91 */ 			{
/* line 92 COVERED, hit count: 699505 */ 				div[i].add(sp[curr]);curr/=sp[curr];
/* line 93 */ 			}
/* line 94 */ 		}
/* line 95 COVERED, hit count: 1 */ 	}
/* line 96 */ 	
/* line 97 */ 	static void put(Map<Integer,Integer> m1,int idx,int val)
/* line 98 */ 	{
/* line 99 PARTIALLY_COVERED, hit count: 571 */ 		if(m1.get(idx)==null)	
/* line 100 */ 		{
/* line 101 COVERED, hit count: 271 */ 			m1.put(idx,val);return;
/* line 102 */ 		}
/* line 103 COVERED, hit count: 300 */ 		m1.put(idx,m1.get(idx)+val);
/* line 104 COVERED, hit count: 300 */ 	}
/* line 105 */ 	
/* line 106 */ 	@SuppressWarnings("unchecked")
/* line 107 */     public static void main(String args[]) throws Exception
/* line 108 */     {
/* line 109 COVERED, hit count: 1 */ 		build();int n=sc.nextInt(),j=0;a=new int[n];b=new int[n];c=new int[n+n];
/* line 110 PARTIALLY_COVERED, hit count: 101 */ 		for(int i=0;i<n;i++)
/* line 111 */ 		{
/* line 112 COVERED, hit count: 100 */ 			a[i]=sc.nextInt();c[j++]=a[i];
/* line 113 */ 		}
/* line 114 PARTIALLY_COVERED, hit count: 101 */ 		for(int i=0;i<n;i++)
/* line 115 */ 		{
/* line 116 COVERED, hit count: 100 */ 			b[i]=sc.nextInt();c[j++]=b[i];
/* line 117 */ 		}
/* line 118 COVERED, hit count: 1 */ 		Arrays.sort(c);mod=sc.nextLong();
/* line 119 PARTIALLY_COVERED, hit count: 101 */ 		for(int i=0;i<n;i++)
/* line 120 */ 		{
/* line 121 COVERED, hit count: 100 */ 			a[i]=Arrays.binarySearch(c,a[i]);
/* line 122 COVERED, hit count: 100 */ 			b[i]=Arrays.binarySearch(c,b[i]);
/* line 123 */ 		}
/* line 124 COVERED, hit count: 1 */ 		al=new ArrayList[maxn];long res=1;
/* line 125 PARTIALLY_COVERED, hit count: 200004 */ 		for(int i=0;i<maxn;i++)
/* line 126 */ 		{
/* line 127 COVERED, hit count: 200003 */ 			al[i]=new ArrayList<Integer>();
/* line 128 */ 		}
/* line 129 PARTIALLY_COVERED, hit count: 101 */ 		for(int i=0;i<n;i++)
/* line 130 */ 		{
/* line 131 COVERED, hit count: 100 */ 			al[a[i]].add(i);
/* line 132 COVERED, hit count: 100 */ 			al[b[i]].add(i);
/* line 133 */ 		}
/* line 134 PARTIALLY_COVERED, hit count: 200004 */ 		for(int i=0;i<maxn;i++)
/* line 135 */ 		{
/* line 136 PARTIALLY_COVERED, hit count: 200003 */ 			if(al[i].size()>0)
/* line 137 */ 			{
/* line 138 COVERED, hit count: 10 */ 				m1=new HashMap<>();
/* line 139 PARTIALLY_COVERED, hit count: 10 */ 				for(int x:al[i])
/* line 140 */ 				{
/* line 141 COVERED, hit count: 200 */ 					put(m1,x,1);
/* line 142 COVERED, hit count: 200 */ 				}
/* line 143 COVERED, hit count: 10 */ 				List<Integer> list=new ArrayList<>();
/* line 144 PARTIALLY_COVERED, hit count: 10 */ 				for(Map.Entry<Integer,Integer> en:m1.entrySet())
/* line 145 */ 				{
/* line 146 COVERED, hit count: 187 */ 					list.add(en.getValue());
/* line 147 COVERED, hit count: 187 */ 				}
/* line 148 COVERED, hit count: 10 */ 				long now=get(al[i].size(),list);res=(res*now)%mod;
/* line 149 */ 			}
/* line 150 */ 		}
/* line 151 COVERED, hit count: 1 */ 		out.println(res);out.close();
/* line 152 COVERED, hit count: 1 */     }
/* line 153 */ }
/* line 154 */ class FastScanner
/* line 155 */ {
/* line 156 */     BufferedReader in;
/* line 157 */     StringTokenizer st;
/* line 158 */ 
/* line 159 COVERED, hit count: 1 */     public FastScanner(BufferedReader in) {
/* line 160 COVERED, hit count: 1 */         this.in = in;
/* line 161 COVERED, hit count: 1 */     }
/* line 162 */ 	
/* line 163 */     public String nextToken() throws Exception {
/* line 164 PARTIALLY_COVERED, hit count: 206 */         while (st == null || !st.hasMoreTokens()) {
/* line 165 COVERED, hit count: 4 */             st = new StringTokenizer(in.readLine());
/* line 166 */         }
/* line 167 COVERED, hit count: 202 */         return st.nextToken();
/* line 168 */     }
/* line 169 */ 	
/* line 170 */ 	public String next() throws Exception {
/* line 171 NOT_COVERED */ 		return nextToken().toString();
/* line 172 */ 	}
/* line 173 */ 	
/* line 174 */     public int nextInt() throws Exception {
/* line 175 COVERED, hit count: 201 */         return Integer.parseInt(nextToken());
/* line 176 */     }
/* line 177 */ 
/* line 178 */     public long nextLong() throws Exception {
/* line 179 COVERED, hit count: 1 */         return Long.parseLong(nextToken());
/* line 180 */     }
/* line 181 */ 
/* line 182 */     public double nextDouble() throws Exception {
/* line 183 NOT_COVERED */         return Double.parseDouble(nextToken());
/* line 184 */     }
/* line 185 */ }